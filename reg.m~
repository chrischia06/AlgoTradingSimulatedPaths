function simObj = reg(simObj, lambda)
    if nargin < 2
        lambda = 0.5;
    end
    simObj.reset(); % reset simulation environment
    w_const = ones(simObj.d,1)/simObj.d;
    warmup = 30;
    frequency = 3
    % lambda (risk aversion) corresponds with
    % regularisation for Lasso
    for i=1:simObj.T
       if i > warmup
            w_const = zeros(simObj.d, 1);
            log_returns = diff(log(simObj.s_hist(:,1:i)),1,2);
            Xs = log_returns(:,1:(i - 2))';
            Xt = log_returns(:,i-1)';
            for j=1:simObj.d
                y = log_returns(j,2:(i - 1))';
                [B,FitInfo] = lasso(Xs,y,'Lambda', lambda);
                w_const(j) = Xt * B + FitInfo.Intercept;
            end
       end
       w_const = simObj.s_cur .* exp(w_const);
       w_const = w_const ./ sum(w_const);
       simObj.step(w_const);
    end
end